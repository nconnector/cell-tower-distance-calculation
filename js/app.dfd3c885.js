(function(){"use strict";var e={6972:function(e,t,n){var i=n(9242),l=n(3396);function o(e,t,n,i,o,s){const r=(0,l.up)("Table");return(0,l.wg)(),(0,l.j4)(r)}var s=n(7139);const r={class:"table"},a=["onClick"],c=["onClick"],d=["onClick"],u={class:"col"},y={class:"col"},w={class:"col"},h={class:"col"},p={class:"col"};function f(e,t,n,o,f,m){const C=(0,l.up)("CellTower"),g=(0,l.up)("Modal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("table",r,[(0,l._)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.headerItems,(e=>((0,l.wg)(),(0,l.iD)("th",{key:e,class:"col",onClick:t=>m.sortBy(e)},[(0,l._)("span",null,(0,s.zw)(e.toUpperCase()),1),"name"===e?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:0,class:"filter","onUpdate:modelValue":t[0]||(t[0]=e=>f.filter=e),onClick:(0,i.iM)((e=>null),["stop"]),onInput:t[1]||(t[1]=e=>m.handleFilterInput(e))},null,40,c)),[[i.nr,f.filter]]):(0,l.kq)("",!0),(0,l._)("div",{class:(0,s.C_)(m.getIconClass(e))},null,2)],8,a)))),128))]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.buildings,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"row",onClick:t=>m.requestClosestCellTower(e.x,e.y)},[(0,l._)("td",u,(0,s.zw)(e.type),1),(0,l._)("td",y,(0,s.zw)(e.id),1),(0,l._)("td",w,(0,s.zw)(e.name),1),(0,l._)("td",h,(0,s.zw)(e.x),1),(0,l._)("td",p,(0,s.zw)(e.y),1)],8,d)))),128))]),f.closestTower?(0,l.wy)(((0,l.wg)(),(0,l.j4)(g,{key:0,onCloseModal:t[2]||(t[2]=e=>f.modalVisible=!1)},{default:(0,l.w5)((()=>[(0,l.Wm)(C,{tower:f.closestTower,distance:e.closestTowerDistance},null,8,["tower","distance"])])),_:1},512)),[[i.F8,f.modalVisible]]):(0,l.kq)("",!0)],64)}class m{constructor(){this.cellTowerData=[{type:"Cell Tower",id:"C1",name:"Bell NW",x:2200,y:1720},{type:"Cell Tower",id:"C2",name:"Bell SW",x:-1090,y:1400},{type:"Cell Tower",id:"C3",name:"Bell SW",x:760,y:-1360},{type:"Cell Tower",id:"C4",name:"Bell SE",x:-1410,y:-450},{type:"Cell Tower",id:"C5",name:"Rogers NW1",x:2300,y:1710},{type:"Cell Tower",id:"C6",name:"Rogers NW2",x:50,y:2080},{type:"Cell Tower",id:"C7",name:"Rogers SE",x:-1410,y:-450},{type:"Cell Tower",id:"C8",name:"Freedom SW",x:1100,y:-1200},{type:"Cell Tower",id:"C9",name:"Freedom NE",x:-1090,y:1400},{type:"Cell Tower",id:"C10",name:"TELUS SE1",x:-1740,y:-50},{type:"Cell Tower",id:"C11",name:"TELUS SE2",x:-2300,y:-350}]}getClosestCellTower(e,t){const n=this.cellTowerData.map(((n,i)=>{const l=e-n.x,o=t-n.y,s=Math.sqrt(l**2+o**2);return{index:i,distance:s}}));n.sort(((e,t)=>e.distance-t.distance)),console.log(n);const i=n[0].index,l=Math.round(100*(n[0].distance+Number.EPSILON))/100,o=this.cellTowerData[i];return{closestTower:o,distance:l}}}var C=m;const g=["onClick"];function v(e,t,n,o,s,r){return(0,l.wg)(),(0,l.iD)("div",{id:"overlay",onClick:t[1]||(t[1]=(...e)=>r.closeModal&&r.closeModal(...e))},[(0,l._)("div",{id:"modal",onClick:(0,i.iM)((e=>null),["stop"])},[(0,l.WI)(e.$slots,"default",{},void 0,!0),(0,l._)("div",{class:"btn",onClick:t[0]||(t[0]=(...e)=>r.closeModal&&r.closeModal(...e))})],8,g)])}var b={name:"ModalComponent",props:{msg:String},methods:{closeModal(){this.$emit("close-modal")}}},T=n(89);const x=(0,T.Z)(b,[["render",v],["__scopeId","data-v-206fea5f"]]);var _=x;const k={class:"cell-tower"};function B(e,t,n,i,o,r){return(0,l.wg)(),(0,l.iD)("div",k,[(0,l._)("div",null,"Closest Cell tower: "+(0,s.zw)(n.tower.id),1),(0,l._)("div",null,"Name: "+(0,s.zw)(n.tower.name),1),(0,l._)("div",null,"Coordinates (x, y): "+(0,s.zw)(n.tower.x)+", "+(0,s.zw)(n.tower.y),1),(0,l._)("div",null,"Distance: "+(0,s.zw)(n.distance),1)])}var K={name:"CellTower",props:{tower:Object,distance:Number}};const D=(0,T.Z)(K,[["render",B],["__scopeId","data-v-620a4685"]]);var F=D,M={name:"TableComponent",components:{Modal:_,CellTower:F},data(){return{server:new C,modalVisible:!1,filter:"",sortKey:null,sortAscending:!0,headerItems:["type","id","name","x","y"],numericFields:["x","y"],buildings:[],buildingsFiltered:[],buildingsRaw:[{type:"Building",id:"B1",name:"General hospital",x:1300,y:560},{type:"Building",id:"B2",name:"Firehall",x:-350,y:1100},{type:"Building",id:"B3",name:"University",x:-890,y:-1300},{type:"Building",id:"B4",name:"Central library",x:470,y:1010},{type:"Building",id:"B5",name:"Secondary school",x:1550,y:850},{type:"Building",id:"B6",name:"Primary school",x:1450,y:950},{type:"Building",id:"B7",name:"City Hall",x:-600,y:200}],closestTower:null}},mounted(){this.buildings=this.buildingsRaw,this.buildingsFiltered=this.buildingsRaw},methods:{getIconClass(e){const t=this.sortAscending?"ascending":"descending";return["sort-icon",this.sortKey===e?t:""]},requestClosestCellTower(e,t){const{closestTower:n,distance:i}=this.server.getClosestCellTower(e,t);this.closestTower=n,this.closestTowerDistance=i,this.modalVisible=!0},sortBy(e,t){if(!t)if(this.sortKey!==e)this.sortAscending=!0,this.sortKey=e;else{if(!this.sortAscending)return void this.sortReset();this.sortAscending=!1}let n;if(this.numericFields.includes(e))n=this.sortAscending?(e,t)=>e[this.sortKey]-t[this.sortKey]:(e,t)=>t[this.sortKey]-e[this.sortKey];else{const e=(e,t)=>`${e[this.sortKey]}`.localeCompare(`${t[this.sortKey]}`),t=(e,t)=>`${t[this.sortKey]}`.localeCompare(`${e[this.sortKey]}`);n=this.sortAscending?e:t}this.buildings=[...this.buildingsFiltered].sort(n)},sortReset(){this.sortKey=null,this.sortAscending=!0,this.buildings=this.buildingsFiltered},handleFilterInput(e){this.filter=e.target.value.toLowerCase(),this.buildingsFiltered=this.buildingsRaw.filter((e=>e.name.toLowerCase().includes(this.filter))),this.sortBy(void 0,!0)}}};const O=(0,T.Z)(M,[["render",f],["__scopeId","data-v-52f6defa"]]);var I=O,S={name:"App",components:{Table:I}};const z=(0,T.Z)(S,[["render",o]]);var j=z;(0,i.ri)(j).mount("#app")}},t={};function n(i){var l=t[i];if(void 0!==l)return l.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,i,l,o){if(!i){var s=1/0;for(d=0;d<e.length;d++){i=e[d][0],l=e[d][1],o=e[d][2];for(var r=!0,a=0;a<i.length;a++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[a])}))?i.splice(a--,1):(r=!1,o<s&&(s=o));if(r){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,l,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,o,s=i[0],r=i[1],a=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(l in r)n.o(r,l)&&(n.m[l]=r[l]);if(a)var d=a(n)}for(t&&t(i);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},i=self["webpackChunkcell_tower_distance_calculation"]=self["webpackChunkcell_tower_distance_calculation"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6972)}));i=n.O(i)})();
//# sourceMappingURL=app.dfd3c885.js.map